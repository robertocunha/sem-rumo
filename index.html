<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sem Rumo ‚Äî ao vivo</title>
  <meta name="description" content="Happening digital do grupo Sem Rumo. Streaming + coment√°rios ao vivo. Chega mais." />
  <meta property="og:title" content="Sem Rumo ‚Äî ao vivo" />
  <meta property="og:description" content="Happening digital do grupo Sem Rumo. Streaming + coment√°rios ao vivo." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/og.jpg" />
  <meta name="theme-color" content="#0f0f10" />
  <style>
    :root{
      --bg:#0c0c0e;--panel:#131317;--muted:#8a8a94;--text:#eaeaf2;--accent:#26e3a6;--accent-2:#ffd166;--danger:#ff5a79;--border:rgba(255,255,255,.08);
      --radius:18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;background:radial-gradient(1200px 700px at 80% -10%, rgba(38,227,166,.08), transparent 60%),
      radial-gradient(800px 500px at -10% 30%, rgba(255,209,102,.06), transparent 60%), var(--bg);
      color:var(--text);font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      line-height:1.5;
    }
    .wrap{max-width:1150px;margin-inline:auto;padding:clamp(14px,2.2vw,28px)}
    header{display:flex;align-items:center;gap:16px;margin-bottom:16px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{
      width:42px;height:42px;border-radius:12px;display:grid;place-items:center;
      background:linear-gradient(135deg, rgba(38,227,166,.25), rgba(255,90,121,.18));
      box-shadow: 0 6px 26px rgba(38,227,166,.12), inset 0 0 0 1px var(--border);
      font-weight:800;letter-spacing:.5px
    }
    h1{margin:0;font-size:clamp(18px,3.2vw,28px);font-weight:800;letter-spacing:.3px}
    .subtitle{color:var(--muted);font-size:clamp(12px,1.6vw,14px)}
    .live{margin-left:auto;display:flex;align-items:center;gap:10px;padding:8px 12px;border-radius:999px;
      background:rgba(255,90,121,.12);border:1px solid var(--border)}
    .dot{width:10px;height:10px;border-radius:50%;background:var(--danger);box-shadow:0 0 0 0 rgba(255,90,121,.8);animation:pulse 1.6s infinite}
    @keyframes pulse{to{box-shadow:0 0 0 14px rgba(255,90,121,0)}}

    .grid{display:grid;grid-template-columns: 1.2fr .8fr;gap:18px}
    @media (max-width: 980px){.grid{grid-template-columns:1fr}}

    .card{background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00));border:1px solid var(--border);
      border-radius:var(--radius);box-shadow:0 10px 40px rgba(0,0,0,.35);overflow:hidden}

    .frame{aspect-ratio:16/9;background:#060607;position:relative}
    .frame iframe{position:absolute;inset:0;width:100%;height:100%;border:0}
    .frame .placeholder{position:absolute;inset:0;display:grid;place-items:center;color:var(--muted)}

    .panel{padding:14px 16px;border-top:1px solid var(--border);display:flex;flex-wrap:wrap;gap:10px;align-items:center;justify-content:space-between}

    .share{display:flex;gap:8px;flex-wrap:wrap}
    .btn{
      appearance:none;background:rgba(255,255,255,.04);color:var(--text);border:1px solid var(--border);
      padding:10px 14px;border-radius:12px;cursor:pointer;font-weight:600;font-size:14px;
      transition:transform .06s ease, background .2s ease;
    }
    .btn:hover{background:rgba(255,255,255,.07)}
    .btn:active{transform:translateY(1px)}

    .chat-header{padding:12px 16px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:10px}
    .tag{font-size:12px;font-weight:700;letter-spacing:.5px;color:#0b0b0b;background:linear-gradient(135deg, var(--accent), var(--accent-2));
      padding:6px 10px;border-radius:999px}

    .note{color:var(--muted);font-size:13px}
    footer{margin-top:24px;color:var(--muted);font-size:12px;text-align:center}
    .small{font-size:12px;color:var(--muted)}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">SR</div>
        <div>
          <h1>Sem Rumo <span class="small">¬∑ happening ao vivo</span></h1>
          <div class="subtitle">Uma p√°gina que muda quando a roda acontece.</div>
        </div>
      </div>
      <div class="live" id="livePill" title="Status da transmiss√£o">
        <div class="dot"></div>
        <strong>AO VIVO</strong>
      </div>
    </header>

    <div class="grid">
      <!-- BLOCO DO STREAMING -->
      <section class="card" aria-label="Transmiss√£o">
        <div class="frame" id="player">
          <!--
            üî¥ COMO USAR (YouTube):
            1) Crie uma live no YouTube (n√£o listado) no app do celular.
            2) Pegue o ID do v√≠deo ao vivo (ex: dQw4w9WgXcQ).
            3) Abra esta p√°gina com a query ?yt=ID
               Ex.: https://gruposemrumo.com.br/?yt=dQw4w9WgXcQ
            4) Alternativa: defina diretamente o data-src abaixo.

            üîµ COMO USAR (Twitch):
            Use a query ?twitch=nomeDoCanal
            Ex.: https://gruposemrumo.com.br/?twitch=semrumo
          -->
          <div class="placeholder" id="placeholder">Transmiss√£o fora do ar no momento.</div>
          <iframe id="iframe" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen loading="lazy"></iframe>
        </div>
        <div class="panel">
          <div class="note">Dica: deixe o celular num trip√©, inicie a live e pronto. A p√°gina se vira.</div>
          <div class="share">
            <button class="btn" id="btnShare">Compartilhar</button>
            <a class="btn" id="btnWhats" href="#" target="_blank" rel="noopener">WhatsApp</a>
            <a class="btn" id="btnX" href="#" target="_blank" rel="noopener">X/Twitter</a>
            <a class="btn" id="btnTelegram" href="#" target="_blank" rel="noopener">Telegram</a>
            <button class="btn" id="btnCopy">Copiar link</button>
          </div>
        </div>
      </section>

      <!-- BLOCO DO CHAT / COMENT√ÅRIOS -->
      <aside class="card" aria-label="Coment√°rios">
        <div class="chat-header">
          <div class="tag">COMENT√ÅRIOS</div>
          <div class="note">Sem login. Entrou, escreveu.</div>
        </div>
        <div class="frame" style="aspect-ratio: 9/12">
          <!-- tlk.io cria uma sala s√≥ pelo slug no URL. Troque "semrumo" se quiser outro nome. -->
          <iframe src="https://www.tlk.io/semrumo" title="Chat Sem Rumo" loading="lazy"></iframe>
        </div>
      </aside>
    </div>

    <footer>
      <div>Sem Rumo ‚Äî feito para mudar sempre. ‚ú¶</div>
    </footer>
  </div>

  <script>
    (function(){
      const iframe = document.getElementById('iframe');
      const placeholder = document.getElementById('placeholder');
      const livePill = document.getElementById('livePill');

      const params = new URLSearchParams(location.search);
      const yt = params.get('yt'); // ID do v√≠deo ao vivo do YouTube
      const twitch = params.get('twitch'); // nome do canal da Twitch

      function setSrc(url){
        iframe.src = url;
        iframe.addEventListener('load', ()=>{
          placeholder.style.display = 'none';
          livePill.style.opacity = 1;
        }, {once:true});
      }

      if(yt){
        setSrc(`https://www.youtube.com/embed/${yt}?autoplay=1&rel=0&modestbranding=1`);
      } else if(twitch){
        // Twitch requer informar o dom√≠nio no par√¢metro parent
        const parent = location.hostname || 'localhost';
        setSrc(`https://player.twitch.tv/?channel=${encodeURIComponent(twitch)}&parent=${encodeURIComponent(parent)}&muted=false&autoplay=true`);
      } else {
        livePill.style.opacity = .5; // fora do ar
      }

      // ======= Compartilhamento =======
      const shareData = {
        title: 'Sem Rumo ‚Äî ao vivo',
        text: 'Cola no happening do Sem Rumo agora. T√° rolando!',
        url: location.href
      };
      const byId = id=>document.getElementById(id);
      const btnShare = byId('btnShare');
      const btnWhats = byId('btnWhats');
      const btnX = byId('btnX');
      const btnTelegram = byId('btnTelegram');
      const btnCopy = byId('btnCopy');

      btnShare.addEventListener('click', async ()=>{
        if(navigator.share){
          try{ await navigator.share(shareData); }catch(e){}
        }else{
          try{
            await navigator.clipboard.writeText(location.href);
            btnShare.textContent = 'Link copiado!';
            setTimeout(()=>btnShare.textContent='Compartilhar', 1400);
          }catch(e){ alert('Copie o link manualmente: '+location.href); }
        }
      });

      const enc = encodeURIComponent;
      const url = location.href;
      btnWhats.href = `https://wa.me/?text=${enc(url)}`;
      btnX.href = `https://twitter.com/intent/tweet?url=${enc(url)}&text=${enc('Sem Rumo ‚Äî ao vivo')}`;
      btnTelegram.href = `https://t.me/share/url?url=${enc(url)}&text=${enc('Sem Rumo ‚Äî ao vivo')}`;
      btnCopy.addEventListener('click', async ()=>{
        try{ await navigator.clipboard.writeText(url);
          btnCopy.textContent='Copiado!';
          setTimeout(()=>btnCopy.textContent='Copiar link', 1200);
        }catch(e){ alert('Copie o link: '+url); }
      });
    })();
  </script>
</body>
</html>
